# AI 투자 분석가 아키텍처

## 1. 프로젝트 철학

이 프로젝트는 **파일 기반 멀티 에이전트 시스템**을 구현하여 고품질의 금융 및 투자 분석을 수행합니다. 주식, 암호화폐, 부동산 등 다양한 자산군을 분석 대상으로 하며, 핵심 설계 철학은 **편향**, **능력**, **문맥**의 철저한 분리입니다.

이 저장소에서 작업하는 모든 AI 에이전트는 분석의 일관성, 결합성, 깊이를 보장하기 위해 이 구조를 엄격히 준수해야 합니다.

## 2. 디렉토리 구조 및 역할

### `.agent/` (두뇌)

AI 에이전트의 핵심 로직과 정의가 존재하는 곳입니다.

- **`investor_profile.md` (투자자 프로필)**
    - 이 프로젝트의 주인이자 분석의 대상인 사용자 본인의 투자 성향, 목표, 제약 사항을 정의합니다.
    - **사용법:** 모든 에이전트는 분석을 시작하기 전 이 파일을 읽고, 분석의 방향성(예: 공격적 성장주 vs 배당주)을 결정해야 합니다.

- **`personas/` (성격 및 관점)**
    - 에이전트의 사고방식, 철학적 편향, 의사결정 기준을 정의합니다.
    - *예시:* `value_investor.md` (가치 투자), `macro_economist.md` (거시 경제 중심), `crypto_enthusiast.md` (암호화폐 낙관론자).
    - **사용법:** "시스템 프롬프트"로 로드하여 어조와 관점을 설정합니다.

- **`skills/` (기술 및 지침)**
    - 구체적인 작업 지침과 출력 형식을 정의합니다. 이는 중립적이며 어떤 페르소나가 사용해도 동일한 기능을 수행해야 합니다.
    - *예시:* `analyze_news.md` (뉴스 요약), `technical_analysis.md` (차트 지표 해석), `on_chain_analysis.md` (온체인 데이터 분석).
    - **사용법:** "작업 지시"로 로드하여 구체적인 행동을 유도합니다.

- **`knowledge/` (지식 저장소)**
    - 변하지 않는 지식 베이스, 공식, 역사적 데이터 패턴 등을 참조용으로 저장합니다.
    - *예시:* `financial_formulas.md` (재무 공식), `market_cycles.md` (시장 사이클).

- **`workflows/` (작업 흐름)**
    - 복잡한 목표를 달성하기 위한 작업 순서를 정의합니다.
    - *예시:* `deep_dive_analysis.md` (1. 뉴스 수집 -> 2. 요약 -> 3. 가치 평가 -> 4. 블로그 작성).

### `data/` (데이터 및 문맥)

AI는 데이터를 스스로 만들어내서는 안 됩니다(환각 방지). 모든 분석은 이곳에 저장된 파일에 근거해야 합니다.

- **`raw/`**: 도구가 수집한 가공되지 않은 데이터 (JSON, CSV, HTML 등).
- **`processed/`**: AI가 읽기 좋게 요약되거나 구조화된 중간 데이터.

### `tools/` (도구)

외부 세계와 상호작용하는 실행 가능한 스크립트 (Python/Shell)입니다.

- **`collectors/`**: 주가, 뉴스, 보고서 등을 수집하는 스크립트.
- **`calculators/`**: AI가 취약한 수학적 계산을 보조하는 스크립트.

## 3. 에이전트 작업 흐름

AI 에이전트가 분석 작업(예: "테슬라 분석해줘")을 수행할 때의 절차:

0. **사용자 파악:** `investor_profile.md`를 읽고 사용자의 투자 목표, 위험 감수 성향, 선호 자산군을 파악합니다.
1. **목표 식별:** 기술적 분석인지, 펀더멘탈 분석인지, 뉴스 기반인지 파악합니다.
2. **컴포넌트 선택:**
    - **Persona** 선택 (예: `growth_hunter.md` - 성장주 투자자)
    - **Skill** 선택 (예: `analyze_earnings_call.md` - 실적 발표 분석)
3. **데이터 확보:**
    - `data/` 폴더에 관련 파일이 있는지 확인합니다.
    - 없다면, `tools/collectors/` 스크립트를 실행하여 `data/raw/`에 최신 데이터를 생성합니다.
4. **분석 실행:**
    - **프롬프트 구조:** `[Persona] + [Skill] + [Data]`
    - `Data`를 `Skill` 지침에 따라 처리하되, `Persona`의 관점으로 필터링하여 분석합니다.
5. **결과물 출력:**
    - 최종 결과물 생성 (주로 `_posts/`에 포스팅 파일로 저장하거나 `data/processed/`에 요약 저장).

## 4. AI 핵심 수칙

- **환각 금지:** 주가나 뉴스를 지어내지 마십시오. `data/`에 데이터가 없다면 도구를 실행하거나 사용자에게 요청하십시오.
- **역할 준수:** 특정 역할을 맡았다면 그 캐릭터에 맞지 않는 분석(예: 가치 투자자가 차트 패턴을 논함)은 지양하십시오.
- **파일 무결성:** 이 아키텍처 문서를 업데이트하지 않고 폴더 구조를 임의로 변경하지 마십시오.
